<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>HI</h1>

    <script>
      // Await Keyword = pauses the execution of its surrounding async function until the promise is settled (resolved or rejected)

      function getNum() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            let num = Math.floor(Math.random() * 10) + 1;
            console.log(num);
            resolve();
          }, 1000);
        });
      }

      async function demo() {
        await getNum();
        await getNum();
        await getNum();
        await getNum();
        getNum();

        //without await we get all numbers together
      }

      //color changed

      let h1 = document.querySelector("h1");
      function changeColor(color) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            let num = Math.floor(Math.random() *5) +1;
            if(num > 4){
                reject("Promise rejected");
            }

            h1.style.color = color;
            console.log(`color changed to ${color}!`);
            resolve("Successfull color changed");
          }, 1000);
        });
      }

      async function demo1() {
        try {
          await changeColor("red");
          await changeColor("blue");
          await changeColor("green");
          await changeColor("yellow");
          changeColor("pink");
        } 
        
        catch (error) {
          console.log("error pkdli");
          console.log(error)
        }

        let ks = 3;
        console.log(ks)
        console.log("new num : ",ks+3)
      }
      demo1()
    </script>
  </body>
</html>
